{"ast":null,"code":"import _objectSpread from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import Axios from'axios';import React,{Component}from'react';import Spinner from'../../../Containers/Spinner/Spinner';import ShowPost from'../ShowPost/ShowPost';export var Mypost=/*#__PURE__*/function(_Component){_inherits(Mypost,_Component);var _super=_createSuper(Mypost);function Mypost(props){var _this;_classCallCheck(this,Mypost);_this=_super.call(this,props);_this.state={posts:[],error:{message:'',code:''},isloading:false};return _this;}_createClass(Mypost,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState(function(pre){return{isloading:true};});Axios.get(\"/posts/mypost\").then(function(data){_this2.setState(_objectSpread(_objectSpread({},_this2.state.posts),{},{posts:data.data.posts,isloading:false}));}).catch(function(e){_this2.setState({isloading:false,error:_objectSpread(_objectSpread({},_this2.state.error),{},{message:e.response.data.message,code:e.response.status})});});}},{key:\"render\",value:function render(){var isLoading;var iserror;if(this.state.isloading){isLoading=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container loading\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mar-20\"},/*#__PURE__*/React.createElement(Spinner,null))));}if(this.state.error.code){iserror=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container error container-short\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mar-20\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Error Code - \",this.state.error.code),/*#__PURE__*/React.createElement(\"h4\",null,\"Error Message - \",this.state.error.message))));}var fetchedposts;if(this.state.posts){fetchedposts=this.state.posts.map(function(post,index){return/*#__PURE__*/React.createElement(ShowPost,Object.assign({key:index},post,index));});}return/*#__PURE__*/React.createElement(React.Fragment,null,isLoading,iserror,/*#__PURE__*/React.createElement(\"div\",{className:\"container hero py-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-xs-12\"},this.state.posts.length===0?/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center\"},\"No Posts Found\"):null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},fetchedposts)))));}}]);return Mypost;}(Component);export default Mypost;","map":{"version":3,"names":["Axios","React","Component","Spinner","ShowPost","Mypost","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","posts","error","message","code","isloading","_createClass","key","value","componentDidMount","_this2","setState","pre","get","then","data","_objectSpread","catch","e","response","status","render","isLoading","iserror","createElement","Fragment","className","fetchedposts","map","post","index","Object","assign","length"],"sources":["C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/src/Components/Posts/Mypost/Mypost.js"],"sourcesContent":["import Axios from 'axios'\nimport React, { Component } from 'react'\nimport Spinner from '../../../Containers/Spinner/Spinner'\nimport ShowPost from '../ShowPost/ShowPost'\n\nexport class Mypost extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            posts: [],\n            error: {\n                message: '',\n                code: ''\n            },\n            isloading: false,\n        }\n    }\n\n    componentDidMount() {\n        this.setState(pre => ({\n            isloading: true\n        }))\n        Axios.get(\"/posts/mypost\").then(data => {\n\n            this.setState({ ...this.state.posts, posts: data.data.posts, isloading: false });\n        }).catch(e => {\n            this.setState({\n                isloading: false,\n                error: {\n                    ...this.state.error, message: e.response.data.message,\n                    code: e.response.status\n                }\n            });\n        })\n    }\n\n    render() {\n        let isLoading\n        let iserror\n\n        if (this.state.isloading) {\n            isLoading = (\n                <>\n                    <div className=\"container loading\">\n                        <div className=\"mar-20\">\n                            <Spinner />\n                        </div>\n                    </div>\n                </>\n            )\n        }\n\n        if (this.state.error.code) {\n            iserror = (\n                <>\n                    <div className=\"container error container-short\">\n                        <div className=\"mar-20\">\n                            <h5>Error Code - {this.state.error.code}</h5>\n                            <h4>Error Message - {this.state.error.message}</h4>\n                        </div>\n                    </div>\n                </>\n            )\n        }\n        let fetchedposts\n\n\n        if (this.state.posts) {\n            fetchedposts = this.state.posts.map((post, index) => (\n                <ShowPost key={index} {...post} {...index} />\n            ))\n        }\n        return (\n            <>\n                {isLoading}\n                {iserror}\n                <div className=\"container hero py-5\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12 col-xs-12\">\n                            {\n                                this.state.posts.length === 0 ? <h2 className=\"text-center\">No Posts Found</h2> : null\n                            }\n                            <div className=\"row\">\n                                {fetchedposts}\n                            </div>\n                        </div>\n\n\n                    </div>\n                </div>\n            </>\n\n        )\n    }\n}\n\nexport default Mypost\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}