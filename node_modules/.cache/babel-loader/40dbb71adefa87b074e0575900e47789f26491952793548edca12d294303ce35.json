{"ast":null,"code":"import _objectSpread from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import Axios from'axios';import React,{Component}from'react';import ShowPost from'./ShowPost/ShowPost';import img1 from'../../assets/asset-1.png';import ShowUser from'../Users/ShowUsers/ShowUser';import Spinner from'../../Containers/Spinner/Spinner';export var Posts=/*#__PURE__*/function(_Component){_inherits(Posts,_Component);var _super=_createSuper(Posts);function Posts(props){var _this;_classCallCheck(this,Posts);_this=_super.call(this,props);_this.state={posts:[],users:[],isloading:false};return _this;}_createClass(Posts,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState(function(pre){return{isloading:true};});Promise.all([Axios.get('/posts'),Axios.get('/profile/profiles')]).then(function(data){_this2.setState(function(pre){return{isloading:false};});_this2.setState(_objectSpread(_objectSpread({},_this2.state.posts),{},{posts:data[0].data.posts}));_this2.setState(_objectSpread(_objectSpread({},_this2.state.users),{},{users:data[1].data.profile}));}).catch(function(e){_this2.setState(function(pre){return{isloading:false};});});}},{key:\"render\",value:function render(){var isLoading;if(this.state.isloading){isLoading=/*#__PURE__*/React.createElement(Spinner,null);}var fetchedposts;var allUsers;if(this.state.posts){fetchedposts=this.state.posts.map(function(post,index){return/*#__PURE__*/React.createElement(ShowPost,Object.assign({key:index},post,index));});}if(this.state.users){allUsers=this.state.users.map(function(user,index){return/*#__PURE__*/React.createElement(ShowUser,Object.assign({key:index},user,index));});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container hero\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center text-center text-md-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"mb-3 display-3\"},\"Tell Your Story to the World\"),/*#__PURE__*/React.createElement(\"p\",null,\"Join with us! Login or Register. Write your story and share !!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-8\"},/*#__PURE__*/React.createElement(\"img\",{src:img1,className:\"img-fluid\",alt:\"img\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"container hero py-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-xs-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},fetchedposts)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-xs-12 pl-4\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-4\"},\" Popular Writers\"),/*#__PURE__*/React.createElement(\"hr\",null),allUsers))),/*#__PURE__*/React.createElement(\"div\",{className:\"container loading\"},isLoading));}}]);return Posts;}(Component);export default Posts;","map":{"version":3,"names":["Axios","React","Component","ShowPost","img1","ShowUser","Spinner","Posts","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","posts","users","isloading","_createClass","key","value","componentDidMount","_this2","setState","pre","Promise","all","get","then","data","_objectSpread","profile","catch","e","render","isLoading","createElement","fetchedposts","allUsers","map","post","index","Object","assign","user","className","src","alt"],"sources":["C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/src/Components/Posts/Posts.js"],"sourcesContent":["import Axios from 'axios'\nimport React, { Component } from 'react'\nimport ShowPost from './ShowPost/ShowPost'\nimport img1 from '../../assets/asset-1.png'\nimport ShowUser from '../Users/ShowUsers/ShowUser'\nimport Spinner from '../../Containers/Spinner/Spinner'\n\nexport class Posts extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            posts: [],\n            users: [],\n            isloading: false\n        }\n\n    }\n\n    componentDidMount() {\n        this.setState(pre => ({\n            isloading: true\n        }))\n        Promise.all([\n            Axios.get('/posts'),\n            Axios.get('/profile/profiles')\n        ]).then(data => {\n            this.setState(pre => ({\n                isloading: false\n            }))\n            this.setState({ ...this.state.posts, posts: data[0].data.posts });\n            this.setState({ ...this.state.users, users: data[1].data.profile });\n        })\n            .catch(e => {\n                this.setState(pre => ({\n                    isloading: false\n                }))\n            })\n    }\n\n    render() {\n        let isLoading\n        if (this.state.isloading) {\n            isLoading = <Spinner />\n        }\n        let fetchedposts\n        let allUsers\n        if (this.state.posts) {\n            fetchedposts = this.state.posts.map((post, index) => (\n                <ShowPost key={index} {...post} {...index} />\n            ))\n        }\n        if (this.state.users) {\n            allUsers = this.state.users.map((user, index) => (\n                <ShowUser key={index} {...user} {...index} />\n            ))\n        }\n        return (\n            <div>\n\n                <div className=\"container hero\">\n                    <div className=\"row align-items-center text-center text-md-left\">\n                        <div className=\"col-lg-4\">\n                            <h1 className=\"mb-3 display-3\">\n                                Tell Your Story to the World\n                    </h1>\n                            <p>\n                                Join with us! Login or Register. Write your story and share !!\n                    </p>\n                        </div>\n                        <div className=\"col-lg-8\">\n                            <img src={img1} className=\"img-fluid\" alt=\"img\" />\n                        </div>\n                    </div>\n\n\n                </div>\n                <div className=\"container hero py-5\">\n                    <div className=\"row\">\n                        <div className=\"col-md-8 col-xs-12\">\n                            <div className=\"row\">\n                                {fetchedposts}\n                            </div>\n                        </div>\n\n                        <div className=\"col-md-4 col-xs-12 pl-4\">\n                            <h3 className=\"mb-4\"> Popular Writers</h3>\n                            <hr></hr>\n                            {allUsers}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"container loading\">\n                    {isLoading}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Posts\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}