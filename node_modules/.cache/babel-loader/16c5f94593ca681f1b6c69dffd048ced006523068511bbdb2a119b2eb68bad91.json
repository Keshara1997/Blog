{"ast":null,"code":"import _slicedToArray from\"C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from'react';import'./ImageUpload.css';var ImageUpload=function ImageUpload(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),previewUrl=_useState4[0],setPreviewUrl=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];var filePickerRef=useRef();useEffect(function(){if(!file){return;}var fileReader=new FileReader();fileReader.onload=function(){setPreviewUrl(fileReader.result);};fileReader.readAsDataURL(file);},[file]);var pickedHandler=function pickedHandler(event){var pickedFile;var fileIsValid=isValid;if(event.target.files&&event.target.files.length===1){pickedFile=event.target.files[0];setFile(pickedFile);setIsValid(true);fileIsValid=true;}else{setIsValid(false);fileIsValid=false;}props.onInput(props.id,pickedFile,fileIsValid);return file;};var pickImageHandler=function pickImageHandler(){filePickerRef.current.click();};return/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"input\",{id:props.id,name:props.name,ref:filePickerRef,style:{display:'none'},type:\"file\",accept:\".jpg,.png,.jpeg\",onChange:pickedHandler}),/*#__PURE__*/React.createElement(\"div\",{className:\"image-upload \".concat(props.center&&'center')},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",onClick:pickImageHandler},\"PICK IMAGE\"),previewUrl&&/*#__PURE__*/React.createElement(\"div\",{className:\"image-upload__preview\"},/*#__PURE__*/React.createElement(\"img\",{src:previewUrl,alt:\"Preview\"})),!previewUrl&&props.value&&/*#__PURE__*/React.createElement(\"div\",{className:\"image-upload__preview\"},/*#__PURE__*/React.createElement(\"img\",{src:props.value,alt:\"Preview\"}))),!isValid&&/*#__PURE__*/React.createElement(\"p\",null,props.errorText));};export default ImageUpload;","map":{"version":3,"names":["React","useRef","useState","useEffect","ImageUpload","props","_useState","_useState2","_slicedToArray","file","setFile","_useState3","_useState4","previewUrl","setPreviewUrl","_useState5","_useState6","isValid","setIsValid","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","pickedHandler","event","pickedFile","fileIsValid","target","files","length","onInput","id","pickImageHandler","current","click","createElement","className","name","ref","style","display","type","accept","onChange","concat","center","onClick","src","alt","value","errorText"],"sources":["C:/Users/Keshara1997/Downloads/Blogapp-using-MERN-main/Blogapp-using-MERN-main/src/Containers/ImageUpload/ImageUpload.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\n\n\nimport './ImageUpload.css';\n\nconst ImageUpload = props => {\n  const [file, setFile] = useState();\n  const [previewUrl, setPreviewUrl] = useState();\n  const [isValid, setIsValid] = useState(false);\n  const filePickerRef = useRef();\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      setPreviewUrl(fileReader.result);\n    };\n    fileReader.readAsDataURL(file);\n  }, [file]);\n\n  const pickedHandler = event => {\n    let pickedFile;\n    let fileIsValid = isValid;\n    if (event.target.files && event.target.files.length === 1) {\n      pickedFile = event.target.files[0];\n      setFile(pickedFile);\n      setIsValid(true);\n      fileIsValid = true;\n    } else {\n      setIsValid(false);\n      fileIsValid = false;\n    }\n    props.onInput(props.id, pickedFile, fileIsValid); return file\n\n  };\n\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n\n  return (\n    <div className=\"\">\n      <input\n        id={props.id}\n        name={props.name}\n        ref={filePickerRef}\n        style={{ display: 'none' }}\n        type=\"file\"\n        accept=\".jpg,.png,.jpeg\"\n        onChange={pickedHandler}\n      />\n      <div className={`image-upload ${props.center && 'center'}`}>\n\n        {/* {!previewUrl && <p>Please pick an image.</p>} */}\n        <button type=\"button\" className=\"btn btn-outline-primary\" onClick={pickImageHandler}>\n          PICK IMAGE\n        </button>\n        {previewUrl && <div className=\"image-upload__preview\">\n          <img src={previewUrl} alt=\"Preview\" />\n\n        </div>}\n        {!previewUrl && props.value && <div className=\"image-upload__preview\">\n          <img src={props.value} alt=\"Preview\" />\n\n        </div>}\n      </div>\n      {!isValid && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default ImageUpload;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}