{"ast":null,"code":"var _jsxFileName = \"D:\\\\Keshara1997\\\\Blog\\\\src\\\\Components\\\\Posts\\\\ShowPost\\\\ShowPost.js\",\n  _s = $RefreshSig$();\nimport Axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport ToText from '../../../utils/ToText';\nimport './ShowPost.css';\nimport avtar from '../../../assets/avtar.jpg';\nimport Spinner from '../../../Containers/Spinner/Spinner';\nfunction ShowPost(props) {\n  _s();\n  var _post$user, _post$user2;\n  const [post, setpost] = useState(props);\n  const [loading, setLoading] = useState(false);\n  const [errmsg, setErrorMsg] = useState();\n  const [errcode, setErrorCode] = useState();\n  const history = useHistory();\n  const pathname = history.location.pathname;\n  useEffect(() => {\n    setLoading(true);\n    Axios.get(\"/profile/bycreator/\" + props.creator).then(data => {\n      setLoading(false);\n      setpost({\n        ...props,\n        user: data.data.profile\n      });\n    }).catch(e => {\n      setLoading(false);\n    });\n  }, [props, setErrorMsg, setErrorCode]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, errcode ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container error container-short\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mar-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, \"Error Code - \", errcode), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, \"Error Message - \", errmsg))) : null, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mar-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-sm-6 col-xs-12 showblog mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"showblog_card card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"showblog_card_image\",\n    style: {\n      backgroundImage: `url(${props.imagePath})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"show_auth_img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/public/\" + ((_post$user = post.user) === null || _post$user === void 0 ? void 0 : _post$user.username),\n    style: {\n      backgroundImage: `url(${(_post$user2 = post.user) !== null && _post$user2 !== void 0 && _post$user2.imagePath ? post.user.imagePath : avtar})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, \"By Mehul\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title pt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, pathname === \"/mypost\" ? /*#__PURE__*/React.createElement(Link, {\n    to: '/mypost/' + props._id,\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, props.title) : /*#__PURE__*/React.createElement(Link, {\n    to: '/post/' + props._id,\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, props.title)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"showblog_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, `${ToText(props.content.substring(0, 80))}...`, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 32\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 39\n    }\n  }, \"Read More\")))))));\n}\n_s(ShowPost, \"isyFGYAHASeYmfkIE7U7oK9wcMA=\", false, function () {\n  return [useHistory];\n});\n_c = ShowPost;\nexport default ShowPost;\nvar _c;\n$RefreshReg$(_c, \"ShowPost\");","map":{"version":3,"names":["Axios","React","useState","useEffect","useHistory","Link","ToText","avtar","Spinner","ShowPost","props","_s","_post$user","_post$user2","post","setpost","loading","setLoading","errmsg","setErrorMsg","errcode","setErrorCode","history","pathname","location","get","creator","then","data","user","profile","catch","e","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundImage","imagePath","to","username","_id","title","content","substring","_c","$RefreshReg$"],"sources":["D:/Keshara1997/Blog/src/Components/Posts/ShowPost/ShowPost.js"],"sourcesContent":["import Axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { Link } from 'react-router-dom'\nimport ToText from '../../../utils/ToText'\nimport './ShowPost.css'\nimport avtar from '../../../assets/avtar.jpg'\nimport Spinner from '../../../Containers/Spinner/Spinner';\nfunction ShowPost(props) {\n\n    const [post, setpost] = useState(props)\n    const [loading, setLoading] = useState(false)\n    const [errmsg, setErrorMsg] = useState()\n    const [errcode, setErrorCode] = useState()\n    const history = useHistory()\n    const pathname = history.location.pathname\n\n    useEffect(() => {\n        setLoading(true)\n        Axios.get(\"/profile/bycreator/\" + props.creator).then(data => {\n            setLoading(false)\n            setpost({ ...props, user: data.data.profile })\n        })\n            .catch(e => {\n                setLoading(false)\n            })\n\n    }, [props,setErrorMsg,setErrorCode])\n\n    return (<>\n        {errcode ?\n            <div className=\"container error container-short\">\n                <div className=\"mar-20\">\n                    <h5>Error Code - {errcode}</h5>\n                    <h4>Error Message - {errmsg}</h4>\n                </div>\n            </div>\n            : null}\n\n        {loading ?\n            <div className=\"container loading\">\n                <div className=\"mar-20\">\n                    <Spinner />\n                </div>\n            </div>\n            : null}\n        <div className=\"col-md-6 col-sm-6 col-xs-12 showblog mb-3\">\n            <div className=\"showblog_card card\">\n                <div className=\"showblog_card_image\"\n                    style={{ backgroundImage: `url(${props.imagePath})` }}>\n\n\n                    <div className=\"show_auth_img\">\n                        <Link to={\"/public/\" + post.user?.username} style={{ backgroundImage: `url(${post.user?.imagePath ? post.user.imagePath : avtar})` }}>By Mehul</Link>\n                    </div>\n                </div>\n                <div className=\"card-body\">\n                    <h5 className=\"card-title pt-3\">\n                        {pathname === \"/mypost\" ?\n                            <Link\n                                to={'/mypost/' + props._id}\n                                className=\"title\">\n                                {props.title}\n                            </Link> :\n\n                            <Link\n                                to={'/post/' + props._id}\n                                className=\"title\">\n                                {props.title}\n                            </Link>\n                        }\n\n                    </h5>\n\n                    <p className=\"showblog_content\">\n                        {`${ToText(\n                            props.content.substring(0, 80)\n                        )}...`}<span> <b>Read More</b></span>\n                    </p>\n                </div>\n            </div>\n        </div>\n    </>\n    )\n}\n\nexport default ShowPost\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,OAAO,gBAAgB;AACvB,OAAOC,KAAK,MAAM,2BAA2B;AAC7C,OAAOC,OAAO,MAAM,qCAAqC;AACzD,SAASC,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAAA,IAAAC,UAAA,EAAAC,WAAA;EAErB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAACQ,KAAK,CAAC;EACvC,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACgB,MAAM,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,CAAC;EACxC,MAAM,CAACkB,OAAO,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,CAAC;EAC1C,MAAMoB,OAAO,GAAGlB,UAAU,CAAC,CAAC;EAC5B,MAAMmB,QAAQ,GAAGD,OAAO,CAACE,QAAQ,CAACD,QAAQ;EAE1CpB,SAAS,CAAC,MAAM;IACZc,UAAU,CAAC,IAAI,CAAC;IAChBjB,KAAK,CAACyB,GAAG,CAAC,qBAAqB,GAAGf,KAAK,CAACgB,OAAO,CAAC,CAACC,IAAI,CAACC,IAAI,IAAI;MAC1DX,UAAU,CAAC,KAAK,CAAC;MACjBF,OAAO,CAAC;QAAE,GAAGL,KAAK;QAAEmB,IAAI,EAAED,IAAI,CAACA,IAAI,CAACE;MAAQ,CAAC,CAAC;IAClD,CAAC,CAAC,CACGC,KAAK,CAACC,CAAC,IAAI;MACRf,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC;EAEV,CAAC,EAAE,CAACP,KAAK,EAACS,WAAW,EAACE,YAAY,CAAC,CAAC;EAEpC,oBAAQpB,KAAA,CAAAgC,aAAA,CAAAhC,KAAA,CAAAiC,QAAA,QACHd,OAAO,gBACJnB,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,iCAAiC;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5CxC,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,QAAQ;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnBxC,KAAA,CAAAgC,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,eAAa,EAACrB,OAAY,CAAC,eAC/BnB,KAAA,CAAAgC,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,kBAAgB,EAACvB,MAAW,CAC/B,CACJ,CAAC,GACJ,IAAI,EAETF,OAAO,gBACJf,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,mBAAmB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC9BxC,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,QAAQ;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnBxC,KAAA,CAAAgC,aAAA,CAACzB,OAAO;IAAA4B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACT,CACJ,CAAC,GACJ,IAAI,eACVxC,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,2CAA2C;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtDxC,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,oBAAoB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/BxC,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,qBAAqB;IAChCO,KAAK,EAAE;MAAEC,eAAe,EAAG,OAAMjC,KAAK,CAACkC,SAAU;IAAG,CAAE;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAGtDxC,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,eAAe;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1BxC,KAAA,CAAAgC,aAAA,CAAC5B,IAAI;IAACwC,EAAE,EAAE,UAAU,KAAAjC,UAAA,GAAGE,IAAI,CAACe,IAAI,cAAAjB,UAAA,uBAATA,UAAA,CAAWkC,QAAQ,CAAC;IAACJ,KAAK,EAAE;MAAEC,eAAe,EAAG,OAAM,CAAA9B,WAAA,GAAAC,IAAI,CAACe,IAAI,cAAAhB,WAAA,eAATA,WAAA,CAAW+B,SAAS,GAAG9B,IAAI,CAACe,IAAI,CAACe,SAAS,GAAGrC,KAAM;IAAG,CAAE;IAAA6B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,UAAc,CACnJ,CACJ,CAAC,eACNxC,KAAA,CAAAgC,aAAA;IAAKE,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtBxC,KAAA,CAAAgC,aAAA;IAAIE,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC1BlB,QAAQ,KAAK,SAAS,gBACnBtB,KAAA,CAAAgC,aAAA,CAAC5B,IAAI;IACDwC,EAAE,EAAE,UAAU,GAAGnC,KAAK,CAACqC,GAAI;IAC3BZ,SAAS,EAAC,OAAO;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChB/B,KAAK,CAACsC,KACL,CAAC,gBAEP/C,KAAA,CAAAgC,aAAA,CAAC5B,IAAI;IACDwC,EAAE,EAAE,QAAQ,GAAGnC,KAAK,CAACqC,GAAI;IACzBZ,SAAS,EAAC,OAAO;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChB/B,KAAK,CAACsC,KACL,CAGV,CAAC,eAEL/C,KAAA,CAAAgC,aAAA;IAAGE,SAAS,EAAC,kBAAkB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACzB,GAAEnC,MAAM,CACNI,KAAK,CAACuC,OAAO,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CACjC,CAAE,KAAI,eAACjD,KAAA,CAAAgC,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,GAAC,eAAAxC,KAAA,CAAAgC,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,WAAY,CAAO,CACrC,CACF,CACJ,CACJ,CACP,CAAC;AAEP;AAAC9B,EAAA,CA5EQF,QAAQ;EAAA,QAMGL,UAAU;AAAA;AAAA+C,EAAA,GANrB1C,QAAQ;AA8EjB,eAAeA,QAAQ;AAAA,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}